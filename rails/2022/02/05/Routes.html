<!DOCTYPE html>
<html lang="en-US">
  <head>
    

    

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="utf-8">
    <link rel="stylesheet" href="/blog/assets/css/main.css">
    <script src="https://kit.fontawesome.com/f9271f6bdd.js" crossorigin="anonymous"></script>
    <link rel="stylesheet"
      href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.4.0/styles/github-dark-dimmed.min.css">
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.4.0/highlight.min.js"></script>
    <script>hljs.highlightAll();</script>
  </head>

  <body class="font-mono list-disc bg-gray-700">
    <div class="pt-8 bg-gray-700">
      
        <nav class="flex flex-wrap items-center justify-center px-2 py-4 mb-6">
  <div class="titleImagePosition">
    <a href="/blog/">
      <img class="titleImage" src="/blog/assets/img/title.jpeg" alt="author profile image">
    </a>
  </div>
  <div class="flex">
    <div class="container px-4 mx-auto flex flex-wrap items-center justify-center">
      <div class="absolute right-16 flex md:block" id="navbar">
        <div class="flex flex-col md:flex-row mr-auto w-full">
          <!-- dynamic menu based on navigation info in _config.yml -->
          
             <!-- don't show current page in menu -->
              <a class="text-sm text-gray-500 hover:text-gray-900 px-3 py-2 mx-auto uppercase"
                href="/blog/about">
                About Me
              </a>
            
          
        </div>
      </div>
    </div>
  </div>
</nav>

      
      
  <div id='sidebar' class='fixed py-16'></div>
  <div id='burger-sidebar' class='pt-24 pl-4 fixed'></div>

<div class='p-16 prose bg-gray-600'>
  <div class='text-center'>
    
  </div>
  <div class='md:px-4 md:grid lg:px-72'>
    <h1 class='text-center mt-6 mb-6'>Routes</h1>
    <h2 id="introduction">Introduction</h2>

<h2 id="why">Why</h2>

<h2 id="how">How</h2>

<h3 id="basic">basic</h3>

<p>REST means Representational State Transfer. The benefit of RESTful API is unity. All programmers have the consensus to write it in the same form. The direct implementation in rails is to use <code class="language-plaintext highlighter-rouge">resources</code> method as follow:</p>

<p><img src="/blog/assets/img/1_qGzuUl1QZXrzLIrEjFjV1A.png" alt="" /></p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>rails routes
</code></pre></div></div>

<p>the results: (8 routes related to users)
<img src="/blog/assets/img/1__ZNgXbOxIkg0wSKGXm8aDCw.png" alt="" /></p>

<p>We can use <code class="language-plaintext highlighter-rouge">only</code> or <code class="language-plaintext highlighter-rouge">except</code> to set the only routes we need</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="no">Rails</span><span class="p">.</span><span class="nf">application</span><span class="p">.</span><span class="nf">routes</span><span class="p">.</span><span class="nf">draw</span> <span class="k">do</span>  
  <span class="n">resources</span> <span class="ss">:products</span><span class="p">,</span> <span class="ss">only: </span><span class="p">[</span><span class="ss">:index</span><span class="p">,</span> <span class="ss">:show</span><span class="p">]</span>
  <span class="c1"># or the following codes</span>
  <span class="c1"># resources :products, except: [:new, :create, :edit, :update, :destroy]</span>
<span class="k">end</span>
</code></pre></div></div>

<p>we can use <code class="language-plaintext highlighter-rouge">collection</code> and <code class="language-plaintext highlighter-rouge">member</code> to add sub layer for more manipulation; for example,</p>

<h3 id="collection">collection</h3>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="no">Rails</span><span class="p">.</span><span class="nf">application</span><span class="p">.</span><span class="nf">routes</span><span class="p">.</span><span class="nf">draw</span> <span class="k">do</span>  
  <span class="n">resources</span> <span class="ss">:orders</span> <span class="k">do</span>  
    <span class="n">collection</span> <span class="k">do</span>  
      <span class="n">get</span> <span class="ss">:cancelled</span>  
    <span class="k">end</span>  
  <span class="k">end</span>  
<span class="k">end</span>
</code></pre></div></div>

<p>Then the routes:
<img src="/blog/assets/img/1_YTaNYTwb6aA41Ukylqj-og.png" alt="" /></p>

<p>There is one more route: <code class="language-plaintext highlighter-rouge">cancelled_orders</code></p>

<h3 id="member">member</h3>

<h3 id="member-vs-collection">member vs collection</h3>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="ss">member: </span><span class="n">xxx</span><span class="o">/</span><span class="nb">id</span><span class="o">/</span><span class="n">xxx</span>

<span class="ss">collection: </span><span class="n">xxx</span><span class="o">/</span><span class="n">xxx</span>
</code></pre></div></div>

<h3 id="specify-routes-name">specify routes name</h3>

<p>we can specify routes name for administration; for example <code class="language-plaintext highlighter-rouge">asdfadfaew</code></p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="no">Rails</span><span class="p">.</span><span class="nf">application</span><span class="p">.</span><span class="nf">routes</span><span class="p">.</span><span class="nf">draw</span> <span class="k">do</span>  
  <span class="n">namespace</span> <span class="ss">:admin</span><span class="p">,</span> <span class="ss">path: </span><span class="s2">"asdfadfaew"</span> <span class="k">do</span>  
    <span class="n">resources</span> <span class="ss">:products</span>  
  <span class="k">end</span>
<span class="k">end</span>
</code></pre></div></div>

<p>Then the route path would be as follow:
<img src="/blog/assets/img/1_a0_F4MMPrazMJ8PGeD7CGg.png" alt="" /></p>

<p>There is will be <code class="language-plaintext highlighter-rouge">/asdfadfaew/…</code> routes</p>

<p>After the route, let’s start to explore controller.</p>

<h3 id="the-best-way-to-arrange-routes">the best way to arrange routes</h3>

<p>skip</p>

<h3 id="routes--domain-specific-language-dsl">routes &amp; Domain Specific Language (DSL)</h3>

<p>skip</p>

<h2 id="reference">Reference</h2>

<p><a href="https://railsbook.tw/"><strong>為你自己學 Ruby on Rails 高見龍</strong></a></p>

  </div>
</div>

<footer class="relative px-4 pt-4 pb-4">
    <!-- footer msg -->
  <div class="flex flex-wrap items-center justify-center">
    <br>
  </div>
</footer>

      <button
        type="button"
        data-mdb-ripple="true"
        data-mdb-ripple-color="light"
        class="scrollTopBtn"
        id="btn-back-to-top"
      >
        <svg aria-hidden="true" focusable="false" data-prefix="fas" class="w-4 h-4" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M34.9 289.5l-22.2-22.2c-9.4-9.4-9.4-24.6 0-33.9L207 39c9.4-9.4 24.6-9.4 33.9 0l194.3 194.3c9.4 9.4 9.4 24.6 0 33.9L413 289.4c-9.5 9.5-25 9.3-34.3-.4L264 168.6V456c0 13.3-10.7 24-24 24h-32c-13.3 0-24-10.7-24-24V168.6L69.2 289.1c-9.3 9.8-24.8 10-34.3.4z"></path></svg>
      </button>
    </div>
  </body>

  <script>
    /* Function for getting the current year in the footer */
    (function () {
      if (document.getElementById("get-current-year")) {
        document.getElementById(
          "get-current-year"
        ).innerHTML = new Date().getFullYear();
      }
    })();
    /* Function for opening navbar on mobile */
    function toggleNavbar(collapseID) {
        document.getElementById(collapseID).classList.toggle("hidden");
        document.getElementById(collapseID).classList.toggle("block");
      }
    /* Function for dropdowns */
    function openDropdown(event, dropdownID) {
      let element = event.target;
      while (element.nodeName !== "A") {
        element = element.parentNode;
      }
      document.getElementById(dropdownID).classList.toggle("hidden");
      document.getElementById(dropdownID).classList.toggle("block");
    }

    // Get the button
    let myButton = document.getElementById("btn-back-to-top");
    // When the user scrolls down 20px from the top of the document, show the button
    window.onscroll = function () {
      scrollFunction();
    };
    function scrollFunction() {
      if (
        document.body.scrollTop > 20 ||
        document.documentElement.scrollTop > 20
      ) {
        myButton.style.display = "block";
      } else {
        myButton.style.display = "none";
      }
    }
    // When the user clicks on the button, scroll to the top of the document
    myButton.addEventListener("click", backToTop);
    function backToTop() {
      document.body.scrollTop = 0;
      document.documentElement.scrollTop = 0;
    }
  </script>

  <script type="text/javascript" src="/blog/assets/javascript/bundle.js" charset="utf-8"></script>
</html>
