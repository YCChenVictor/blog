<!DOCTYPE html>
<html lang="en-US">
  <head>
    

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="utf-8">
    <link rel="stylesheet" href="/blog/assets/css/main.css">
    <script src="https://kit.fontawesome.com/f9271f6bdd.js" crossorigin="anonymous"></script>
    <link rel="stylesheet"
      href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.4.0/styles/github-dark-dimmed.min.css">
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.4.0/highlight.min.js"></script>
    <script>hljs.highlightAll();</script>
  </head>

  <body class="font-mono list-disc bg-gray-700">
    <div class="pt-8 bg-gray-700">
      
        <nav class="flex flex-wrap items-center justify-center px-2 py-4 mb-6">
  <div class="titleImagePosition">
    <a href="/blog/" class="!px-0 !py-0">
      <img class="titleImage" src="/blog/assets/img/title.jpeg" alt="author profile image">
    </a>
  </div>
</nav>

      
      
  
    <div id='sidebar' class='fixed py-16 hidden lg:block'></div>
    <div id='burger-sidebar' class='pt-24 pl-4 fixed hidden md:block'></div>
  

  <div class='prose bg-gray-400' id='article'>
    <div id='word-count' class='pt-4 pl-8 fixed'>words: 80</div>
    <div class='text-center'>
      
    </div>
    <div class='md:px-4 md:grid lg:px-72'>
      <h1 class='text-center mt-6 mb-6'>Ajax</h1>
      <h2 id="introduction">Introduction</h2>

<p>AJAX is a web development technique that allows you to update parts of a web page without reloading the entire page.</p>

<ul>
  <li>AJAX = Asynchronous JavaScript and XML</li>
  <li>To make web applications more interactive and responsive by exchanging data with a web server asynchronously</li>
  <li>Asynchronous programming is common in javascript, because the process of rendering data from server takes time and we do not want our page to be stalled and the function to achieve it called callback function.</li>
</ul>

<h2 id="why">Why</h2>

<p>To create more efficient, dynamic, and interactive web applications</p>

<ul>
  <li>Enhanced User Experience: AJAX allows web applications to update specific parts of a web page without reloading the entire page, resulting in faster response times and a smoother user experience</li>
  <li>Reduced Server Load: Because AJAX requests only update specific parts of a web page, it can help reduce the amount of data that needs to be transferred between the client and the server. This can help reduce server load, improve application performance, and reduce bandwidth usage.</li>
  <li>Increased Efficiency: AJAX can help make web applications more efficient by enabling them to update data in real-time without requiring a page refresh</li>
</ul>

<h2 id="how">How</h2>

<h3 id="plain-javascript">Plain Javascript</h3>

<ul>
  <li>Create an instance of the XMLHttpRequest object
    <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">xhttp</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">XMLHttpRequest</span><span class="p">();</span>
</code></pre></div>    </div>
  </li>
  <li>Define a function to handle the response when it arrives.
    <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">xhttp</span><span class="p">.</span><span class="nx">onreadystatechange</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
<span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">readyState</span> <span class="o">==</span> <span class="mi">4</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">status</span> <span class="o">==</span> <span class="mi">200</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// handle the response here</span>
<span class="p">}</span>
<span class="p">};</span>
</code></pre></div>    </div>
  </li>
  <li>Send the request to the server (GET request)
    <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">xhttp</span><span class="p">.</span><span class="nx">open</span><span class="p">(</span><span class="dl">"</span><span class="s2">GET</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">url_to_server_script</span><span class="dl">"</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
<span class="nx">xhttp</span><span class="p">.</span><span class="nx">send</span><span class="p">();</span>
</code></pre></div>    </div>
  </li>
  <li>Handle the server response: When the server response arrives, the function you defined in step 2 is executed. You can use the responseText property of the XMLHttpRequest object to get the response from the server
    <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">xhttp</span><span class="p">.</span><span class="nx">onreadystatechange</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
<span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">readyState</span> <span class="o">==</span> <span class="mi">4</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">status</span> <span class="o">==</span> <span class="mi">200</span><span class="p">)</span> <span class="p">{</span>
  <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">).</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">responseText</span><span class="p">;</span>
<span class="p">}</span>
<span class="p">};</span>
</code></pre></div>    </div>
  </li>
</ul>

<p>In the above code, the response from the server is added to an HTML element with the id of “result”.</p>

<h2 id="what">What</h2>

<p>For example, thinking of my webpage is the burger store and I serve burgers. The ingredients are simply as follow: sauce, patty, lettuce. The chef(backend) needs time to prepare the ingredients. One second for lettuce cutting, two seconds for patty slicing, and three seconds for sauce cooking. I use <code class="language-plaintext highlighter-rouge">setTimeout()</code> to simulate the delivery time from backend. The Chef can cut and slice while the sauce is boiled. Then the coding may be as follow:</p>

<h3 id="indexhtml">index.html</h3>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html</span> <span class="na">lang=</span><span class="s">"en"</span><span class="nt">&gt;</span>
<span class="nt">&lt;head&gt;</span>
  <span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">"UTF-8"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;meta</span> <span class="na">http-equiv=</span><span class="s">"X-UA-Compatible"</span> <span class="na">content=</span><span class="s">"IE=edge"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">"viewport"</span> <span class="na">content=</span><span class="s">"width=device-width, initial-scale=1.0"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;title&gt;</span>Document<span class="nt">&lt;/title&gt;</span>
  <span class="nt">&lt;script&gt;</span><span class="nx">main</span><span class="p">.</span><span class="nx">js</span><span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
    
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre></div></div>

<h3 id="mainjs">main.js</h3>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">ingredients</span> <span class="o">=</span> <span class="p">[</span>
  <span class="dl">'</span><span class="s1">buns</span><span class="dl">'</span>
<span class="p">]</span>

<span class="nx">serveBurger</span><span class="p">()</span>
<span class="nx">createIngredient</span><span class="p">({</span> <span class="na">name</span><span class="p">:</span> <span class="dl">'</span><span class="s1">sauce</span><span class="dl">'</span><span class="p">,</span> <span class="na">time</span><span class="p">:</span> <span class="mi">3000</span> <span class="p">})</span>
<span class="nx">createIngredient</span><span class="p">({</span> <span class="na">name</span><span class="p">:</span> <span class="dl">'</span><span class="s1">patty</span><span class="dl">'</span><span class="p">,</span> <span class="na">time</span><span class="p">:</span> <span class="mi">2000</span> <span class="p">})</span>
<span class="nx">createIngredient</span><span class="p">({</span> <span class="na">name</span><span class="p">:</span> <span class="dl">'</span><span class="s1">lettuce</span><span class="dl">'</span><span class="p">,</span> <span class="na">time</span><span class="p">:</span> <span class="mi">1000</span> <span class="p">})</span>

<span class="kd">function</span> <span class="nx">serveBurger</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">setTimeout</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">burger</span> <span class="o">=</span> <span class="dl">''</span><span class="p">;</span>
    <span class="nx">ingredients</span><span class="p">.</span><span class="nx">forEach</span><span class="p">((</span><span class="nx">ingredient</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nx">burger</span> <span class="o">+=</span> <span class="s2">`&lt;ul&gt;</span><span class="p">${</span><span class="nx">ingredient</span><span class="p">}</span><span class="s2">&lt;/ul&gt;`</span>
    <span class="p">});</span>
    <span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">burger</span><span class="p">;</span>
  <span class="p">},</span> <span class="mi">4000</span><span class="p">)</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">createIngredient</span><span class="p">(</span><span class="nx">ingredient</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">setTimeout</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">ingredients</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">ingredient</span><span class="p">.</span><span class="nx">name</span><span class="p">)</span>
  <span class="p">},</span> <span class="nx">ingredient</span><span class="p">.</span><span class="nx">time</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Then the burger looks like</p>

<p><img src="/blog/assets/img/burger.png" alt="" width="500" /></p>

<p>However, what if we do not know how much time each ingredient takes, meaning the waiter may go to get the meal too early and may serve Semi-finished products if the chef did not notice; for example, taking the 4000 out from the setTimout() in the function, serveBurger.</p>

<p>We need callback function to help us. With callback function, we can tell the waiter back after the burger prepared; for example, we call the waiter back every 0.5 second and check whether ingredients prepared. The code:</p>

<h3 id="javascript">javascript</h3>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">requiredIngredients</span> <span class="o">=</span> <span class="p">[</span><span class="dl">'</span><span class="s1">lettuce</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">patty</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">sauce</span><span class="dl">'</span><span class="p">]</span>

<span class="kd">const</span> <span class="nx">ingredients</span> <span class="o">=</span> <span class="p">[</span>
  <span class="dl">'</span><span class="s1">buns</span><span class="dl">'</span>
<span class="p">]</span>

<span class="kd">const</span> <span class="nx">recipes</span> <span class="o">=</span> <span class="p">[</span>
  <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">'</span><span class="s1">lettuce</span><span class="dl">'</span><span class="p">,</span> <span class="na">time</span><span class="p">:</span> <span class="mi">1000</span> <span class="p">},</span>
  <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">'</span><span class="s1">patty</span><span class="dl">'</span><span class="p">,</span> <span class="na">time</span><span class="p">:</span> <span class="mi">2000</span> <span class="p">},</span>
  <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">'</span><span class="s1">sauce</span><span class="dl">'</span><span class="p">,</span> <span class="na">time</span><span class="p">:</span> <span class="mi">3000</span> <span class="p">}</span>
<span class="p">]</span>

<span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">requiredIngredients</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">createIngredient</span><span class="p">(</span><span class="nx">recipes</span><span class="p">[</span><span class="nx">i</span><span class="p">],</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">checkIngredients</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nx">serveBurger</span><span class="p">()</span>
    <span class="p">})</span>
  <span class="p">})</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">checkIngredients</span><span class="p">(</span><span class="nx">callback</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">setTimeout</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">requiredIngredients</span><span class="p">.</span><span class="nx">every</span><span class="p">(</span><span class="nx">result</span> <span class="o">=&gt;</span> <span class="nx">ingredients</span><span class="p">.</span><span class="nx">includes</span><span class="p">(</span><span class="nx">result</span><span class="p">)))</span> <span class="p">{</span>
      <span class="nx">callback</span><span class="p">()</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">still preparing</span><span class="dl">"</span><span class="p">)</span>
    <span class="p">}</span>
  <span class="p">},</span> <span class="mi">500</span><span class="p">)</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">serveBurger</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">setTimeout</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">burger</span> <span class="o">=</span> <span class="dl">''</span><span class="p">;</span>
    <span class="nx">ingredients</span><span class="p">.</span><span class="nx">forEach</span><span class="p">((</span><span class="nx">ingredient</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nx">burger</span> <span class="o">+=</span> <span class="s2">`&lt;ul&gt;</span><span class="p">${</span><span class="nx">ingredient</span><span class="p">}</span><span class="s2">&lt;/ul&gt;`</span>
    <span class="p">});</span>
    <span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">burger</span><span class="p">;</span>
  <span class="p">})</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">createIngredient</span><span class="p">(</span><span class="nx">ingredient</span><span class="p">,</span> <span class="nx">callback</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">setTimeout</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">ingredients</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">ingredient</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
    <span class="nx">callback</span><span class="p">()</span>
  <span class="p">},</span> <span class="nx">ingredient</span><span class="p">.</span><span class="nx">time</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div></div>

<p>As you can see, there is some callbacks looks like</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">createIngredient</span><span class="p">(</span><span class="nx">recipes</span><span class="p">[</span><span class="nx">i</span><span class="p">],</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">checkIngredients</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">serveBurger</span><span class="p">()</span>
  <span class="p">})</span>
<span class="p">})</span>
</code></pre></div></div>

<p>As you can see, the more steps to wait, the more callbacks would be, making the code looks like boomerang and this is called the <strong>callback hell</strong>. To solve this kind of issue, we can use <strong>promise</strong></p>

<h3 id="promise">Promise</h3>

<p>I am going to solve the callback part in the callback hell. With promise, we can eliminate callback from the function first. For example, the checkIngredient(), changing from</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">createIngredient</span><span class="p">(</span><span class="nx">ingredient</span><span class="p">,</span> <span class="nx">callback</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">setTimeout</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">ingredients</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">ingredient</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
    <span class="nx">callback</span><span class="p">()</span>
  <span class="p">},</span> <span class="nx">ingredient</span><span class="p">.</span><span class="nx">time</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div></div>

<p>to</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">createIngredient</span><span class="p">(</span><span class="nx">ingredient</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="k">new</span> <span class="nb">Promise</span><span class="p">((</span><span class="nx">resolve</span><span class="p">,</span> <span class="nx">reject</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">setTimeout</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nx">ingredients</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">ingredient</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
      
      <span class="kd">const</span> <span class="nx">error</span> <span class="o">=</span> <span class="kc">true</span>
      <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">resolve</span><span class="p">();</span>
      <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="nx">reject</span><span class="p">(</span><span class="s2">`Error: Something went wrong while creating ingredient, </span><span class="p">${</span> <span class="nx">ingredient</span><span class="p">.</span><span class="nx">name</span> <span class="p">}</span><span class="s2">`</span><span class="p">)</span>
      <span class="p">}</span>

    <span class="p">},</span> <span class="nx">ingredient</span><span class="p">.</span><span class="nx">time</span><span class="p">)</span>
  <span class="p">})</span>
<span class="p">}</span>
</code></pre></div></div>

<p>and eliminate callback() from checkIngredients with same technique. Then, the callback hell structure, changing from</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">createIngredient</span><span class="p">(</span><span class="nx">recipes</span><span class="p">[</span><span class="nx">i</span><span class="p">],</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">checkIngredients</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">serveBurger</span><span class="p">()</span>
  <span class="p">})</span>
<span class="p">})</span>
</code></pre></div></div>

<p>to</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">createIngredient</span><span class="p">(</span><span class="nx">recipes</span><span class="p">[</span><span class="nx">i</span><span class="p">])</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">checkIngredients</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">serveBurger</span><span class="p">)</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="nx">error</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">error</span><span class="p">))</span>
</code></pre></div></div>

<p>However, there is still a hell like chain structure, so I am going to use async/await.</p>

<h3 id="asyncawait">Async/Await</h3>

<p>With the promise function defined above, we can turn the chain structure into</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">async</span> <span class="kd">function</span> <span class="nx">step</span><span class="p">(</span><span class="nx">recipe</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">await</span> <span class="nx">createIngredient</span><span class="p">(</span><span class="nx">recipe</span><span class="p">).</span><span class="k">catch</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span>
  <span class="k">await</span> <span class="nx">checkIngredients</span><span class="p">()</span>
  <span class="nx">serveBurger</span><span class="p">()</span>
<span class="p">}</span>
</code></pre></div></div>

<p>and call them with</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">requiredIngredients</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">step</span><span class="p">(</span><span class="nx">recipes</span><span class="p">[</span><span class="nx">i</span><span class="p">]);</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="reference">Reference</h2>

<p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Using_promises">Using Promise (MDN)</a></p>

<p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise (MDN)</a></p>

<p><a href="https://www.youtube.com/watch?v=PoRJizFvM7s">Async JS Crash Course - Callbacks, Promises, Async Await</a></p>

    </div>
  </div>

  <footer class="relative px-4 pt-4 pb-4">
    <!-- footer msg -->
  <div class="flex flex-wrap items-center justify-center">
    <br>
  </div>
</footer>


      <button
        type="button"
        data-mdb-ripple="true"
        data-mdb-ripple-color="light"
        class="scrollTopBtn"
        id="btn-back-to-top"
      >
        <svg aria-hidden="true" focusable="false" data-prefix="fas" class="w-4 h-4" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M34.9 289.5l-22.2-22.2c-9.4-9.4-9.4-24.6 0-33.9L207 39c9.4-9.4 24.6-9.4 33.9 0l194.3 194.3c9.4 9.4 9.4 24.6 0 33.9L413 289.4c-9.5 9.5-25 9.3-34.3-.4L264 168.6V456c0 13.3-10.7 24-24 24h-32c-13.3 0-24-10.7-24-24V168.6L69.2 289.1c-9.3 9.8-24.8 10-34.3.4z"></path></svg>
      </button>
    </div>
  </body>

  <script>
    /* Function for getting the current year in the footer */
    (function () {
      if (document.getElementById("get-current-year")) {
        document.getElementById(
          "get-current-year"
        ).innerHTML = new Date().getFullYear();
      }
    })();
    /* Function for opening navbar on mobile */
    function toggleNavbar(collapseID) {
        document.getElementById(collapseID).classList.toggle("hidden");
        document.getElementById(collapseID).classList.toggle("block");
      }
    /* Function for dropdowns */
    function openDropdown(event, dropdownID) {
      let element = event.target;
      while (element.nodeName !== "A") {
        element = element.parentNode;
      }
      document.getElementById(dropdownID).classList.toggle("hidden");
      document.getElementById(dropdownID).classList.toggle("block");
    }

    // Get the button
    let myButton = document.getElementById("btn-back-to-top");
    // When the user scrolls down 20px from the top of the document, show the button
    window.onscroll = function () {
      scrollFunction();
    };
    function scrollFunction() {
      if (
        document.body.scrollTop > 20 ||
        document.documentElement.scrollTop > 20
      ) {
        myButton.style.display = "block";
      } else {
        myButton.style.display = "none";
      }
    }
    // When the user clicks on the button, scroll to the top of the document
    myButton.addEventListener("click", backToTop);
    function backToTop() {
      document.body.scrollTop = 0;
      document.documentElement.scrollTop = 0;
    }
  </script>

  <script type="text/javascript" src="/blog/assets/javascript/bundle.js" charset="utf-8"></script>
</html>
