<h2 id="introduction">Introduction</h2>

<p>Given there is no cache, requests from users:</p>

<div class="mermaid">
graph LR
  id1(user 1) --#1--&gt; id2(browser 1)
  id1(user 1) --#2--&gt; id2(browser 1)

  id3(user 2) --#3--&gt; id4(browser 2)
  id3(user 2) --#4--&gt; id4(browser 2)

  id2(browser 1) --request from #1--&gt; id5(data processing)
  id2(browser 1) --request from #2--&gt; id5(data processing)
  id4(browser 2) --request from #3--&gt; id5(data processing)
  id4(browser 2) --request from #4--&gt; id5(data processing)

  id5(data processing) --query from #1--&gt; id6(database)
  id5(data processing) --query from #2--&gt; id6(database)
  id5(data processing) --query from #3--&gt; id6(database)
  id5(data processing) --query from #4--&gt; id6(database)
</div>

<ul>
  <li>denote # as the order of the usages from users</li>
</ul>

<p>As you can image, given that webpage remains the same, on the server side, we actually can put a server to cache the request results between browsers and the layer of data processing, so that the #2~#4 requests can directly use it without asking them as follow:</p>

<div class="mermaid">
graph LR
  id1(user 1) --#1--&gt; id2(browser 1)
  id1(user 1) --#2--&gt; id2(browser 1)

  id3(user 2) --#3--&gt; id4(browser 2)
  id3(user 2) --#4--&gt; id4(browser 2)

  id2(browser 1) --request<br />from #1--&gt; id7(server<br />side<br />cache)
  id2(browser 1) --request<br />from #2--&gt; id7(server<br />side<br />cache)
  id4(browser 2) --request<br />from #3--&gt; id7(server<br />side<br />cache)
  id4(browser 2) --request<br />from #4--&gt; id7(server<br />side<br />cache)

  id7(server<br />side<br />cache) --request<br />from #1--&gt; id5(data<br />processing)
  id5(data<br />processing) --store<br />results--&gt; id7(server<br />side<br />cache)

  id5(data processing) --query from #1--&gt; id6(database)
</div>

<p>(TBC)</p>

<p>To perform business logics on webpage, application needs JS, CSS, HTML, query results. We can reduce the processing time by placing the unchanged results in cache:</p>

<ul>
  <li>client: cache JS, CSS, HTML in browsers</li>
  <li>server: cache query results in database</li>
  <li>network: cache both client and server contents in closer host (CDN)</li>
</ul>

<h2 id="why">Why?</h2>

<p>We want App to perform what users want as quick as possible -&gt; avoid processes -&gt; cache</p>

<h2 id="how">How?</h2>

<h3 id="client">client</h3>

<p>We know an image file will remain the same for a given time, then when a user request comes, in the response header, put</p>

<p>If we do not know when the file changes, we need at least an identification to match the file in browser and the one stored on server for whether caching again. Then</p>

<h3 id="server">server</h3>

<h3 id="network">network</h3>

<h2 id="what">What?</h2>

<p>give examples</p>

<h2 id="reference">Reference</h2>

<p><a href="https://oldmo860617.medium.com/%E6%B2%92%E4%BA%86%E8%A7%A3%E9%81%8E-cache-%E5%B0%B1%E5%88%A5%E8%AA%AA%E7%B6%B2%E7%AB%99%E6%80%A7%E8%83%BD%E6%B2%92%E6%95%91%E4%BA%86-6d9d4cfe3291">沒了解過 Cache，就別說網站性能沒救了！</a></p>

<p><a href="https://edgemesh.com/blog/difference-between-server-side-caching-and-client-side-caching-and-which-is-good-for-your-website">Server-Side Caching vs. Client-Side Caching: The Differences (And Which Is Good For Your Website)</a></p>
