<h2 id="intro">Intro</h2>

<h2 id="why">Why</h2>

<h2 id="how">How</h2>

<p>REST means Representational State Transfer. The benefit of RESTful API is unity. All coders have the consensus to write it in the same form. The direct implementation in rails is to use <code class="language-plaintext highlighter-rouge">resources</code> method as follow:</p>

<p><img src="/assets/img/1_qGzuUl1QZXrzLIrEjFjV1A.png" alt="" /></p>

<p>Then we can use again</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>rails routes
</code></pre></div></div>

<p>the results: (8 routes related to users)
<img src="/assets/img/1__ZNgXbOxIkg0wSKGXm8aDCw.png" alt="" /></p>

<p>We can use <code class="language-plaintext highlighter-rouge">only</code> or <code class="language-plaintext highlighter-rouge">except</code> to set the only routes we need</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="no">Rails</span><span class="p">.</span><span class="nf">application</span><span class="p">.</span><span class="nf">routes</span><span class="p">.</span><span class="nf">draw</span> <span class="k">do</span>  
  <span class="n">resources</span> <span class="ss">:products</span><span class="p">,</span> <span class="ss">only: </span><span class="p">[</span><span class="ss">:index</span><span class="p">,</span> <span class="ss">:show</span><span class="p">]</span>
  <span class="c1"># or the following codes</span>
  <span class="c1"># resources :products, except: [:new, :create, :edit, :update, :destroy]</span>
<span class="k">end</span>
</code></pre></div></div>

<p>we can use <code class="language-plaintext highlighter-rouge">collection</code> and <code class="language-plaintext highlighter-rouge">member</code> to add sub layer for more manipulation; for example,</p>

<h3 id="collection">collection</h3>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="no">Rails</span><span class="p">.</span><span class="nf">application</span><span class="p">.</span><span class="nf">routes</span><span class="p">.</span><span class="nf">draw</span> <span class="k">do</span>  
  <span class="n">resources</span> <span class="ss">:orders</span> <span class="k">do</span>  
    <span class="n">collection</span> <span class="k">do</span>  
      <span class="n">get</span> <span class="ss">:cancelled</span>  
    <span class="k">end</span>  
  <span class="k">end</span>  
<span class="k">end</span>
</code></pre></div></div>

<p>Then the routes:
<img src="/assets/img/1_YTaNYTwb6aA41Ukylqj-og.png" alt="" /></p>

<p>There is one more route: <code class="language-plaintext highlighter-rouge">cancelled_orders</code></p>

<h3 id="member">member</h3>

<p>時間不夠，來不及補，跟 collection 的差別是，member 會帶 id，collection 不會</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="ss">member: </span><span class="n">xxx</span><span class="o">/</span><span class="nb">id</span><span class="o">/</span><span class="n">xxx</span>

<span class="ss">collection: </span><span class="n">xxx</span><span class="o">/</span><span class="n">xxx</span>
</code></pre></div></div>

<h3 id="specify-routes-name">specify routes name</h3>

<p>we can specify routes name for administration; for example <code class="language-plaintext highlighter-rouge">asdfadfaew</code></p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="no">Rails</span><span class="p">.</span><span class="nf">application</span><span class="p">.</span><span class="nf">routes</span><span class="p">.</span><span class="nf">draw</span> <span class="k">do</span>  
  <span class="n">namespace</span> <span class="ss">:admin</span><span class="p">,</span> <span class="ss">path: </span><span class="s2">"asdfadfaew"</span> <span class="k">do</span>  
    <span class="n">resources</span> <span class="ss">:products</span>  
  <span class="k">end</span>
<span class="k">end</span>
</code></pre></div></div>

<p>Then the route path would be as follow:
<img src="/assets/img/1_a0_F4MMPrazMJ8PGeD7CGg.png" alt="" /></p>

<p>There is will be <code class="language-plaintext highlighter-rouge">/asdfadfaew/…</code> routes</p>

<p>After the route, let’s start to explore controller.</p>

<h3 id="the-best-way-to-arrange-routes">the best way to arrange routes</h3>

<p>skip</p>

<h3 id="routes--domain-specific-language-dsl">routes &amp; Domain Specific Language (DSL)</h3>

<p>skip</p>

<h2 id="reference">Reference</h2>

<p><a href="https://railsbook.tw/"><strong>為你自己學 Ruby on Rails 高見龍</strong></a></p>
