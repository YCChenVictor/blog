<h2 id="introduction">Introduction</h2>

<ul>
  <li>functions to <strong>hook into</strong> React features</li>
  <li>do not work in a regular function or nested function in a component</li>
</ul>

<h2 id="why">Why</h2>

<p>TBC</p>

<h2 id="how">How</h2>

<p>Letâ€™s use clock as example,</p>

<div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">Clock</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="p">[</span><span class="nx">date</span><span class="p">,</span> <span class="nx">setDate</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">(</span><span class="k">new</span> <span class="nb">Date</span><span class="p">());</span>

  <span class="nx">useEffect</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">interval</span> <span class="o">=</span> <span class="nx">setInterval</span><span class="p">(</span>
      <span class="p">()</span> <span class="o">=&gt;</span> <span class="nx">setDate</span><span class="p">(</span><span class="k">new</span> <span class="nb">Date</span><span class="p">()),</span> <span class="mi">1000</span>
    <span class="p">);</span>
    <span class="k">return</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="nx">clearInterval</span><span class="p">(</span><span class="nx">interval</span><span class="p">);</span>
  <span class="p">});</span>

  <span class="k">return</span> <span class="p">(</span>
    <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>Hello, world!<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">h2</span><span class="p">&gt;</span>It is <span class="si">{</span><span class="nx">date</span><span class="p">.</span><span class="nx">toLocaleTimeString</span><span class="p">()</span><span class="si">}</span>.<span class="p">&lt;/</span><span class="nt">h2</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
  <span class="p">);</span>
<span class="p">}</span>

<span class="k">export</span> <span class="k">default</span> <span class="nx">Clock</span><span class="p">;</span>
</code></pre></div></div>

<h3 id="usestate">useState</h3>

<p><code class="language-plaintext highlighter-rouge">useState</code> returns the current state and a function for updating the state. In the <code class="language-plaintext highlighter-rouge">Clock</code>, <code class="language-plaintext highlighter-rouge">const [count, setDate] = useState(0)</code> means set the initial value of count equals to 0 and use setCount to update the value of the state</p>

<h3 id="useeffect">useEffect</h3>

<p>Define customized effects and trigger it <strong>when rerender</strong> component. In the example above, after <code class="language-plaintext highlighter-rouge">Clock</code> component created, it will trigger function in <code class="language-plaintext highlighter-rouge">useEffect()</code>, which will trigger <code class="language-plaintext highlighter-rouge">setDate()</code> to set the value of <code class="language-plaintext highlighter-rouge">date</code> in each 1000 millisecond.</p>

<p>It may cause stack overflow as <code class="language-plaintext highlighter-rouge">useEffect</code> triggered every moment the component rendered; to avoid it, just add an empty array to tell react not to track any value changed.</p>

<div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">SidebarLayout</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="p">[</span><span class="nx">anchors</span><span class="p">,</span> <span class="nx">setAnchors</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>
  <span class="nx">useEffect</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">setAnchors</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">querySelectorAll</span><span class="p">(</span><span class="dl">'</span><span class="s1">h1, h2, h3, h4, h5, h6</span><span class="dl">'</span><span class="p">));</span>
  <span class="p">},</span> <span class="p">[]);</span>
  <span class="k">return</span> <span class="p">(</span>
    <span class="p">...</span>
  <span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="usecontext">useContext</h3>
<p>I am going to show how <code class="language-plaintext highlighter-rouge">useContext</code> share the states globally</p>

<h3 id="useref">useRef</h3>

<h3 id="usecallback">useCallback</h3>
<p>I can use the <code class="language-plaintext highlighter-rouge">webcam</code> example</p>

<h3 id="useroute">useRoute</h3>

<p>As the concept of SPA (single page application), switching pages represents merely change the componets. Create a file for route setting:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">React</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">react</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">Users</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">./components/Users</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">Contact</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">./components/Contact</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">About</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">./components/About</span><span class="dl">"</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">routes</span> <span class="o">=</span> <span class="p">{</span>
  <span class="dl">"</span><span class="s2">/</span><span class="dl">"</span><span class="p">:</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="o">&lt;</span><span class="nx">Users</span> <span class="o">/&gt;</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">/about</span><span class="dl">"</span><span class="p">:</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="o">&lt;</span><span class="nx">About</span> <span class="o">/&gt;</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">/contact</span><span class="dl">"</span><span class="p">:</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="o">&lt;</span><span class="nx">Contact</span> <span class="o">/&gt;</span>
<span class="p">};</span>

<span class="k">export</span> <span class="k">default</span> <span class="nx">routes</span><span class="p">;</span>
</code></pre></div></div>

<p>Then use these routes with useRoute:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span><span class="nx">useRoutes</span><span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">hookrouter</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">Routes</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">./router</span><span class="dl">'</span>

<span class="kd">function</span> <span class="nx">App</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">routeResult</span> <span class="o">=</span> <span class="nx">useRoutes</span><span class="p">(</span><span class="nx">Routes</span><span class="p">)</span>
  <span class="k">return</span> <span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="dl">"</span><span class="s2">App</span><span class="dl">"</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="nx">a</span> <span class="nx">href</span><span class="o">=</span><span class="dl">"</span><span class="s2">/user</span><span class="dl">"</span><span class="o">&gt;</span><span class="nx">Users</span> <span class="nx">Page</span><span class="o">&lt;</span><span class="sr">/a</span><span class="err">&gt;
</span>      <span class="o">&lt;</span><span class="nx">a</span> <span class="nx">href</span><span class="o">=</span><span class="dl">"</span><span class="s2">/about</span><span class="dl">"</span><span class="o">&gt;</span><span class="nx">About</span> <span class="nx">Page</span><span class="o">&lt;</span><span class="sr">/a</span><span class="err">&gt;
</span>      <span class="o">&lt;</span><span class="nx">a</span> <span class="nx">href</span><span class="o">=</span><span class="dl">"</span><span class="s2">/contact</span><span class="dl">"</span><span class="o">&gt;</span><span class="nx">Contacts</span> <span class="nx">Page</span><span class="o">&lt;</span><span class="sr">/a</span><span class="err">&gt;
</span>      <span class="p">{</span><span class="nx">routeResult</span><span class="p">}</span>
    <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>  <span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="reference">Reference</h2>
<p><a href="https://www.youtube.com/watch?v=TNhaISOUy6Q"><strong>10 React Hooks Explained // Plus Build your own from Scratch</strong></a></p>

<p><a href="https://blog.logrocket.com/how-react-hooks-can-replace-react-router/"><strong>useRoute</strong></a></p>

<p><a href="https://stackoverflow.com/questions/53464595/how-to-use-componentwillmount-in-react-hooks"><strong>life cycle methods in React Hooks?</strong></a></p>

<p><a href="https://reactjs.org/docs/hooks-effect.html"><strong>Using the Effect Hook</strong></a></p>

<p><a href="https://www.digitalocean.com/community/tutorials/how-to-share-state-across-react-components-with-context"><strong>how to share state across react components with context</strong></a></p>
